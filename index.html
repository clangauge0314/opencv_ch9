<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>OpenCV Ch.09</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <style>
    [data-tooltip-text]:hover {
  position: relative;
}

[data-tooltip-text]:after {
  -webkit-transition: bottom .3s ease-in-out, opacity .3s ease-in-out;
  -moz-transition: bottom .3s ease-in-out, opacity .3s ease-in-out;
  transition: bottom .3s ease-in-out, opacity .3s ease-in-out;

  background-color: rgba(0, 0, 0, 0.8);

  -webkit-box-shadow: 0px 0px 3px 1px rgba(50, 50, 50, 0.4);
  -moz-box-shadow: 0px 0px 3px 1px rgba(50, 50, 50, 0.4);
  box-shadow: 0px 0px 3px 1px rgba(50, 50, 50, 0.4);
  
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
  
  color: #FFFFFF;
  font-size: 12px;
  margin-bottom: 10px;
  padding: 7px 12px;
  position: absolute;
  width: auto;
  min-width: 50px;
  max-width: 300px;
  word-wrap: break-word;

  z-index: 9999;

  opacity: 0;
  left: -9999px;
  top: 90%;
  
  content: attr(data-tooltip-text);
}

[data-tooltip-text]:hover:after {
  top: 130%;
  left: 0;
  opacity: 1;
}
  </style>
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="container">

      <h1>OpenCV 프로그래밍</a></h1>
      <h2><span>Ch09. 특징 검출, 디스크립터, 매칭</span></h2>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link active" href="#header">시작</a></li>
          <li><a class="nav-link" href="#about">목차</a></li>
          <li><a class="nav-link" href="#first">01</a></li>
          <li><a class="nav-link" href="#second">02</a></li>
          <li><a class="nav-link" href="#third">03</a></li>
          <li><a class="nav-link" href="#fourth">04</a></li>
          <li><a class="nav-link" href="#fifth">05</a></li>
          <li><a class="nav-link" href="#sixth">06</a></li>
          <li><a class="nav-link" href="#seventh">07</a></li>
          <li><a class="nav-link" href="#eighth">08</a></li>
          <li><a class="nav-link" href="#ninth">09</a></li>
          <li><a class="nav-link" href="#tenth">10</a></li>
          <li><a class="nav-link" href="#eleventh">11</a></li>
          <li><a class="nav-link" href="#twelfth">12</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->



    </div>
  </header><!-- End Header -->

  <!-- ======= About Section ======= -->
  <section id="about" class="about">

    <!-- ======= About Me ======= -->
    <div class="about-me container">

      <div class="section-title">
        <h2>contents</h2>
        <p>목차</p>
      </div>

      <div class="row">

        <div class="col-lg-8 pt-4 pt-lg-0 content" data-aos="fade-left">
          <h3>특징 검출, 디스크립터, 매칭</h3>
          <p class="font-italic">
            OpenCV는 다양한 특징 검출기, 디스크립터, 매칭 방법을 구현하여 제공합니다.
          </p>
          <div class="row">
            <div class="col-lg-6">
              <ul>
                <li><i class="bi bi-chevron-right"></i> <strong>01 </strong> <span>FastFeatureDetector 특징 검출</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>02 </strong> <span>MSER 특징 검출</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>03 </strong> <span>SimpleBlobDetector 특징 검출</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>04 </strong> <span>GFTTDetector 특징 검출</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>05 </strong> <span>ORB 특징 검출 및 디스크립터 계산</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>06 </strong> <span>BRISK 특징 검출 및 디스크립터 계산</span></li>

              </ul>
            </div>
            <div class="col-lg-6">
              <ul>
                <li><i class="bi bi-chevron-right"></i> <strong>07 </strong> <span>KAZE, AKAZE 특징 검출 및 디스크립터 계산</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>08 </strong> <span>SIFT 특징 검출 및 디스크립터 계산</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>09 </strong> <span>SURK 특징 검출 및 디스크립터 계산</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>10 </strong> <span>디스크립터를 이용한 특징 매칭</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>11 </strong> <span>HOG 디스크립터</span></li>
                <li><i class="bi bi-chevron-right"></i> <strong>12 </strong> <span>영상 스티칭</span></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div><!-- End About Me -->

      <div class="owl-carousel testimonials-carousel">

      </div>

    </div><!-- End Testimonials  -->

  </section><!-- End About Section -->

  <!-- ======= Resume Section ======= -->
  <section id="first" class="resume">
    <div class="container">

      <div class="section-title">
        <h2>01</h2>
        <p>코너점 검출</p>
      </div>

      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>FastFeatureDetector 특징 검출 1</h4>
            <h5>Ex 9.1</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/chessBoard.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##fastF&nbsp;=&nbsp;cv2.FastFeatureDetector_create()</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##fastF&nbsp;=cv2.FastFeatureDetector.create()</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">fastF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>cv2.FastFeatureDetector.create(threshold<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">30</span>)&nbsp;<span style="color:#BFBDBD">#&nbsp;100</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;fastF.detect(gray)&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">fastF.setNonmaxSuppression(<span style="color:#E28964">False</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;fastF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(src,&nbsp;kp2,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp2)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp2))</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;src.copy()</div><div style="padding:0 6px; white-space:pre; line-height:130%">points&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.KeyPoint_convert(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;cx,&nbsp;cy&nbsp;<span style="color:#E28964">in</span>&nbsp;points:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(dst3,&nbsp;(cx,&nbsp;cy),&nbsp;<span style="color:#3387CC">3</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">255</span>,&nbsp;<span style="color:#3387CC">0</span>,&nbsp;<span style="color:#3387CC">0</span>),&nbsp;thickness<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">1</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst3'</span>,&nbsp;&nbsp;dst3)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>FastFeatureDetector 특징 검출 2: 특징 정렬, 필터링</h4>
            <h5>Ex 9.2</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/chessBoard.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">fastF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.FastFeatureDetector_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;fastF.detect(gray)&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;sorted(kp,&nbsp;key<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>lambda&nbsp;f:&nbsp;f.response,&nbsp;reverse<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#E28964">True</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.drawKeypoints(gray,&nbsp;kp[:<span style="color:#3387CC">10</span>],&nbsp;dst,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flags&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.DRAW_MATCHES_FLAGS_DRAW_OVER_OUTIMG)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;list(filter(lambda&nbsp;f:&nbsp;f.response<span style="color:#4B9CE9"></span><span style="color:#E28964">&gt;</span><span style="color:#3387CC">50</span>,&nbsp;kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp2)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp2))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##for&nbsp;f&nbsp;in&nbsp;kp2:</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##&nbsp;&nbsp;&nbsp;&nbsp;print(f.response)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp2,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;distance(f1,&nbsp;f2):&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x1,&nbsp;y1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f1.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x2,&nbsp;y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f2.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;np.sqrt((x2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;x1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span><span style="color:#E28964">+</span>&nbsp;(y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;y1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;filteringByDistance(kp,&nbsp;distE<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">5</span>):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">len</span>(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.arange(<span style="color:#3387CC">1</span>,size<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span><span style="color:#3387CC">1</span>).astype(np.bool8)&nbsp;<span style="color:#BFBDBD">#&nbsp;all&nbsp;True&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;i,&nbsp;f1&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">not</span>&nbsp;mask[i]:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">else</span>:&nbsp;<span style="color:#BFBDBD">#&nbsp;True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;j,&nbsp;f2&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;i&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;j:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;distance(f1,&nbsp;f2)<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>distE:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[j]&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">False</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;np_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.array(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;list(np_kp[mask])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;filteringByDistance(kp2,&nbsp;<span style="color:#3387CC">30</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp3)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp3))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp3,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst3'</span>,&nbsp;&nbsp;dst3)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="second" class="resume">
    <div class="container">

      <div class="section-title">
        <h2>02</h2>
        <p>MSBR 특징 검출</p>
      </div>

      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>MSBR 특징 검출</h4>
            <h5>Ex 9.3</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/chessBoard.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">mserF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.MSER_create(<span style="color:#3387CC">10</span>)&nbsp;&nbsp;<span style="color:#BFBDBD">#&nbsp;cv2.MSER.create(10)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;mserF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;dst.copy()</div><div style="padding:0 6px; white-space:pre; line-height:130%">regions,&nbsp;bboxes&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;mserF.detectRegions(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%">hulls&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;[cv2.convexHull(p.reshape(<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,&nbsp;<span style="color:#3387CC">1</span>,&nbsp;<span style="color:#3387CC">2</span>))&nbsp;<span style="color:#E28964">for</span>&nbsp;p&nbsp;<span style="color:#E28964">in</span>&nbsp;regions]</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.polylines(dst2,&nbsp;hulls,&nbsp;<span style="color:#E28964">True</span>,&nbsp;(<span style="color:#3387CC">0</span>,&nbsp;<span style="color:#3387CC">255</span>,&nbsp;<span style="color:#3387CC">0</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;dst.copy()</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;i,&nbsp;pts&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(regions):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.fitEllipse(pts)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.ellipse(dst3,&nbsp;box,&nbsp;&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),<span style="color:#3387CC">1</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y,&nbsp;w,&nbsp;h&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;bboxes[i]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.rectangle(dst3,&nbsp;(x,&nbsp;y),&nbsp;(x<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>w,&nbsp;y<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>h),&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst3'</span>,&nbsp;&nbsp;dst3)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="third" class="resume">
    <div class="container">
      <div class="section-title">
        <h2>03</h2>
        <p>SimpleBlobDetector 특징 검출</p>
      </div>
      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item pb-0">
            <h4>SimpleBlobDetector 특징 검출</h4>
            <h5>Ex 9.4</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/chessBoard.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.SimpleBlobDetector_Params()</div><div style="padding:0 6px; white-space:pre; line-height:130%">params.blobColor&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params.thresholdStep&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">5</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params.minThreshold&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">20</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params.maxThreshold&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">100</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params.minDistBetweenBlobs&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">5</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params.filterByArea&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params.minArea&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">25</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params.maxArea&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">5000</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params.filterByConvexity&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">params.minConvexity&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0.</span><span style="color:#3387CC">89</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##blobF&nbsp;=&nbsp;cv2.SimpleBlobDetector.create(params)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##blobF&nbsp;=&nbsp;cv2.SimpleBlobDetector_create(params)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">blobF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.SimpleBlobDetector_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;blobF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;f&nbsp;<span style="color:#E28964">in</span>&nbsp;kp:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">int</span>(f.size<span style="color:#4B9CE9"></span><span style="color:#E28964">/</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cx,&nbsp;cy&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(dst,&nbsp;(round(cx),round(cy)),r,(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>),<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>
    </div>
  </section><!-- End Resume Section -->

  <section id="fourth" class="resume">
    <div class="container">

      <div class="section-title">
        <h2>04</h2>
        <p>GETTDEtector 특징 검출</p>
      </div>

      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>GETTDEtector 특징 검출</h4>
            <h5>Ex 9.5</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/chessBoard.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##goodF&nbsp;=&nbsp;cv2.GFTTDetector.create()</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">goodF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.GFTTDetector_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;goodF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">goodF2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.GFTTDetector_create(maxCorners<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">50</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualityLevel<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">1</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minDistance&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">10</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;useHarrisDetector<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#E28964">True</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp2<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;goodF2.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp2)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp2))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp2,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section><!-- End Resume Section -->
  <section id="fifth" class="resume">
    <div class="container">

      <div class="section-title">
        <h2>05</h2>
        <p>ORB 특징 검출 및 디스크립터 계산</p>
      </div>        
      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>ORB 특징 검출 및 디스크립터 계산</h4>
            <h5>Ex 9.6</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;distance(f1,&nbsp;f2):&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x1,&nbsp;y1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f1.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x2,&nbsp;y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f2.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;np.sqrt((x2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;x1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span><span style="color:#E28964">+</span>&nbsp;(y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;y1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;filteringByDistance(kp,&nbsp;distE<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">5</span>):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">len</span>(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.arange(<span style="color:#3387CC">1</span>,size<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span><span style="color:#3387CC">1</span>).astype(np.bool8)&nbsp;<span style="color:#BFBDBD">#&nbsp;all&nbsp;True&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;i,&nbsp;f1&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">not</span>&nbsp;mask[i]:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">else</span>:&nbsp;<span style="color:#BFBDBD">#&nbsp;True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;j,&nbsp;f2&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;i&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;j:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;distance(f1,&nbsp;f2)<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>distE:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[j]&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">False</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;np_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.array(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;list(np_kp[mask])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/cornerTest.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##src&nbsp;=&nbsp;cv2.imread('./data/chessBoard.jpg')</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.GaussianBlur(gray,&nbsp;(<span style="color:#3387CC">5</span>,&nbsp;<span style="color:#3387CC">5</span>),&nbsp;<span style="color:#3387CC">0.</span><span style="color:#3387CC">0</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##orbF&nbsp;=&nbsp;cv2.ORB_create()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;HARRIS_SCORE</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">orbF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.ORB_create(scoreType<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">1</span>)&nbsp;&nbsp;<span style="color:#BFBDBD">#&nbsp;FAST_SCORE</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;orbF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;sorted(kp,&nbsp;key<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>lambda&nbsp;f:&nbsp;f.response,&nbsp;reverse<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#E28964">True</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;list(filter(lambda&nbsp;f:&nbsp;f.response<span style="color:#4B9CE9"></span><span style="color:#E28964">&gt;</span><span style="color:#3387CC">50</span>,&nbsp;kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;filteringByDistance(kp,&nbsp;<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(filtered_kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(filtered_kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp,&nbsp;des&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;orbF.compute(gray,&nbsp;filtered_kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.shape='</span>,&nbsp;des.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des='</span>,&nbsp;des)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;filtered_kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;f&nbsp;<span style="color:#E28964">in</span>&nbsp;filtered_kp:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.size</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;rect&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;((x,&nbsp;y),&nbsp;(size,&nbsp;size),&nbsp;f.angle)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.boxPoints(rect).astype(np.int32)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.polylines(dst2,&nbsp;[box],&nbsp;<span style="color:#E28964">True</span>,&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(dst2,&nbsp;(round(x),&nbsp;round(y)),&nbsp;round(f.size<span style="color:#4B9CE9"></span><span style="color:#E28964">/</span><span style="color:#3387CC">2</span>),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>다른 특징 검출기의 ORB 디스크립터 계산</h4>
            <h5>Ex 9.7</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div><div style="line-height:130%">61</div><div style="line-height:130%">62</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;distance(f1,&nbsp;f2):&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x1,&nbsp;y1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f1.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x2,&nbsp;y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f2.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;np.sqrt((x2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;x1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span><span style="color:#E28964">+</span>&nbsp;(y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;y1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;filteringByDistance(kp,&nbsp;distE<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">5</span>):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">len</span>(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.arange(<span style="color:#3387CC">1</span>,size<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span><span style="color:#3387CC">1</span>).astype(np.bool8)&nbsp;<span style="color:#BFBDBD">#&nbsp;all&nbsp;True&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;i,&nbsp;f1&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">not</span>&nbsp;mask[i]:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">else</span>:&nbsp;<span style="color:#BFBDBD">#&nbsp;True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;j,&nbsp;f2&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;i&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;j:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;distance(f1,&nbsp;f2)<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>distE:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[j]&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">False</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;np_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.array(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;list(np_kp[mask])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/chessBoard.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.GaussianBlur(gray,&nbsp;(<span style="color:#3387CC">5</span>,&nbsp;<span style="color:#3387CC">5</span>),&nbsp;<span style="color:#3387CC">0.</span><span style="color:#3387CC">0</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">fastF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.FastFeatureDetector_create(threshold<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">30</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">mserF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.MSER_create(<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">blobF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.SimpleBlobDetector_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">goodF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.GFTTDetector_create(maxCorners<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">20</span>,minDistance&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;fastF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp=&nbsp;mserF.detect(gray)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp=&nbsp;blobF.detect(gray)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp=&nbsp;goodF.detect(gray)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;filteringByDistance(kp,&nbsp;<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(filtered_kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(filtered_kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;filtered_kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">orbF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.ORB_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp,&nbsp;des&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;orbF.compute(gray,&nbsp;filtered_kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.shape='</span>,&nbsp;des.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des='</span>,&nbsp;des)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;filtered_kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;f&nbsp;<span style="color:#E28964">in</span>&nbsp;filtered_kp:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.size</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;rect&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;((x,&nbsp;y),&nbsp;(size,&nbsp;size),&nbsp;f.angle)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.boxPoints(rect).astype(np.int32)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.polylines(dst2,&nbsp;[box],&nbsp;<span style="color:#E28964">True</span>,&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(dst2,&nbsp;(round(x),&nbsp;round(y)),&nbsp;round(f.size<span style="color:#4B9CE9"></span><span style="color:#E28964">/</span><span style="color:#3387CC">2</span>),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>

    </div>
  </section><!-- End Resume Section -->
  <section id="sixth" class="resume">
    <div class="container">

      <div class="section-title">
        <h2>06</h2>
        <p>BRISK 특징 검출 및 디스크립터 계산</p>
      </div>

      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>BRISK 특징 검출 및 디스크립터 계산/h4>
            <h5>Ex 9.8</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;distance(f1,&nbsp;f2):&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x1,&nbsp;y1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f1.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x2,&nbsp;y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f2.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;np.sqrt((x2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;x1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span><span style="color:#E28964">+</span>&nbsp;(y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;y1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;filteringByDistance(kp,&nbsp;distE<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">5</span>):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">len</span>(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.arange(<span style="color:#3387CC">1</span>,size<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span><span style="color:#3387CC">1</span>).astype(np.bool8)&nbsp;<span style="color:#BFBDBD">#&nbsp;all&nbsp;True&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;i,&nbsp;f1&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">not</span>&nbsp;mask[i]:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">else</span>:&nbsp;<span style="color:#BFBDBD">#&nbsp;True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;j,&nbsp;f2&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;i&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;j:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;distance(f1,&nbsp;f2)<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>distE:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[j]&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">False</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;np_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.array(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;list(np_kp[mask])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/cornerTest.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.GaussianBlur(gray,&nbsp;(<span style="color:#3387CC">5</span>,&nbsp;<span style="color:#3387CC">5</span>),&nbsp;<span style="color:#3387CC">0.</span><span style="color:#3387CC">0</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">briskF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.BRISK_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;briskF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;sorted(kp,&nbsp;key<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>lambda&nbsp;f:&nbsp;f.response,&nbsp;reverse<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#E28964">True</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;list(filter(lambda&nbsp;f:&nbsp;f.response<span style="color:#4B9CE9"></span><span style="color:#E28964">&gt;</span><span style="color:#3387CC">50</span>,&nbsp;kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;filteringByDistance(kp,&nbsp;<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(filtered_kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(filtered_kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp,&nbsp;des&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;briskF.compute(gray,&nbsp;filtered_kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.shape='</span>,&nbsp;des.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des='</span>,&nbsp;des)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;filtered_kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;f&nbsp;<span style="color:#E28964">in</span>&nbsp;filtered_kp:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.size</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;rect&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;((x,&nbsp;y),&nbsp;(size,&nbsp;size),&nbsp;f.angle)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.boxPoints(rect).astype(np.int32)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.polylines(dst2,&nbsp;[box],&nbsp;<span style="color:#E28964">True</span>,&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(dst2,&nbsp;(round(x),&nbsp;round(y)),&nbsp;round(f.size<span style="color:#4B9CE9"></span><span style="color:#E28964">/</span><span style="color:#3387CC">2</span>),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>다른 특징 검출기의 BRISK 디스크립터 계산</h4>
            <h5>Ex 9.9</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div><div style="line-height:130%">61</div><div style="line-height:130%">62</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;distance(f1,&nbsp;f2):&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x1,&nbsp;y1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f1.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x2,&nbsp;y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f2.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;np.sqrt((x2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;x1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span><span style="color:#E28964">+</span>&nbsp;(y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;y1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;filteringByDistance(kp,&nbsp;distE<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">5</span>):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">len</span>(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.arange(<span style="color:#3387CC">1</span>,size<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span><span style="color:#3387CC">1</span>).astype(np.bool8)&nbsp;<span style="color:#BFBDBD">#&nbsp;all&nbsp;True&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;i,&nbsp;f1&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">not</span>&nbsp;mask[i]:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">else</span>:&nbsp;<span style="color:#BFBDBD">#&nbsp;True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;j,&nbsp;f2&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;i&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;j:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;distance(f1,&nbsp;f2)<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>distE:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[j]&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">False</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;np_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.array(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;list(np_kp[mask])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/chessBoard.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.GaussianBlur(gray,&nbsp;(<span style="color:#3387CC">5</span>,&nbsp;<span style="color:#3387CC">5</span>),&nbsp;<span style="color:#3387CC">0.</span><span style="color:#3387CC">0</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">fastF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.FastFeatureDetector_create(threshold<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">30</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">mserF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.MSER_create(<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">blobF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.SimpleBlobDetector_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">goodF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.GFTTDetector_create(maxCorners<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">20</span>,minDistance&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;fastF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp=&nbsp;mserF.detect(gray)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp=&nbsp;blobF.detect(gray)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp=&nbsp;goodF.detect(gray)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;filteringByDistance(kp,&nbsp;<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(filtered_kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(filtered_kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;filtered_kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">briskF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.BRISK_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp,&nbsp;des&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;briskF.compute(gray,&nbsp;filtered_kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.shape='</span>,&nbsp;des.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des='</span>,&nbsp;des)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;filtered_kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;f&nbsp;<span style="color:#E28964">in</span>&nbsp;filtered_kp:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.size</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;rect&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;((x,&nbsp;y),&nbsp;(size,&nbsp;size),&nbsp;f.angle)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.boxPoints(rect).astype(np.int32)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.polylines(dst2,&nbsp;[box],&nbsp;<span style="color:#E28964">True</span>,&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(dst2,&nbsp;(round(x),&nbsp;round(y)),&nbsp;round(f.size<span style="color:#4B9CE9"></span><span style="color:#E28964">/</span><span style="color:#3387CC">2</span>),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>

    </div>
  </section><!-- End Resume Section -->
  <section id="seventh" class="resume">
    <div class="container">
      <div class="section-title">
        <h2>07</h2>
        <p>KAZE, AKAZE 특징 검출 및 디스크립터 계산</p>
      </div>
      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>KAZE, AKAZE 특징 검출 및 디스크립터 계산</h4>
            <h5>Ex 9.10</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div><div style="line-height:130%">61</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;distance(f1,&nbsp;f2):&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x1,&nbsp;y1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f1.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x2,&nbsp;y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f2.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;np.sqrt((x2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;x1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span><span style="color:#E28964">+</span>&nbsp;(y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;y1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;filteringByDistance(kp,&nbsp;distE<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">5</span>):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">len</span>(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.arange(<span style="color:#3387CC">1</span>,size<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span><span style="color:#3387CC">1</span>).astype(np.bool8)&nbsp;<span style="color:#BFBDBD">#&nbsp;all&nbsp;True&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;i,&nbsp;f1&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">not</span>&nbsp;mask[i]:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">else</span>:&nbsp;<span style="color:#BFBDBD">#&nbsp;True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;j,&nbsp;f2&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;i&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;j:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;distance(f1,&nbsp;f2)<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>distE:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[j]&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">False</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;np_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.array(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;list(np_kp[mask])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/cornerTest.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.GaussianBlur(gray,&nbsp;(<span style="color:#3387CC">5</span>,&nbsp;<span style="color:#3387CC">5</span>),&nbsp;<span style="color:#3387CC">0.</span><span style="color:#3387CC">0</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kazeF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.KAZE_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">akazeF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.AKAZE_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;kazeF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp=&nbsp;akazeF.detect(gray)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;sorted(kp,&nbsp;key<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>lambda&nbsp;f:&nbsp;f.response,&nbsp;reverse<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#E28964">True</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##filtered_kp&nbsp;=&nbsp;list(filter(lambda&nbsp;f:&nbsp;f.response&gt;0.01,&nbsp;kp))</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;filteringByDistance(kp,&nbsp;<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(filtered_kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(filtered_kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp,&nbsp;des&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;kazeF.compute(gray,&nbsp;filtered_kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp,&nbsp;des&nbsp;=akazeF.compute(gray,&nbsp;filtered_kp)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.shape='</span>,&nbsp;des.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.dtype='</span>,&nbsp;des.dtype)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des='</span>,&nbsp;des)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;filtered_kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;f&nbsp;<span style="color:#E28964">in</span>&nbsp;filtered_kp:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.size</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;rect&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;((x,&nbsp;y),&nbsp;(size,&nbsp;size),&nbsp;f.angle)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.boxPoints(rect).astype(np.int32)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.polylines(dst2,&nbsp;[box],&nbsp;<span style="color:#E28964">True</span>,&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(dst2,&nbsp;(round(x),&nbsp;round(y)),&nbsp;round(f.size<span style="color:#4B9CE9"></span><span style="color:#E28964">/</span><span style="color:#3387CC">2</span>),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>
    </div>
  </section><!-- End Resume Section -->
  <section id="eighth" class="resume">
    <div class="container">
      <div class="section-title">
        <h2>08</h2>
        <p>SIFT 특징 검출 및 디스크립터 계산</p>
      </div>
      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>SIFT 특징 검출 및 디스크립터 계산</h4>
            <h5>Ex 9.11</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;distance(f1,&nbsp;f2):&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x1,&nbsp;y1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f1.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x2,&nbsp;y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f2.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;np.sqrt((x2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;x1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span><span style="color:#E28964">+</span>&nbsp;(y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;y1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;filteringByDistance(kp,&nbsp;distE<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">5</span>):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">len</span>(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.arange(<span style="color:#3387CC">1</span>,size<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span><span style="color:#3387CC">1</span>).astype(np.bool8)&nbsp;<span style="color:#BFBDBD">#&nbsp;all&nbsp;True&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;i,&nbsp;f1&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">not</span>&nbsp;mask[i]:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">else</span>:&nbsp;<span style="color:#BFBDBD">#&nbsp;True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;j,&nbsp;f2&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;i&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;j:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;distance(f1,&nbsp;f2)<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>distE:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[j]&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">False</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;np_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.array(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;list(np_kp[mask])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/cornerTest.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##siftF&nbsp;=&nbsp;cv2.xfeatures2d.SIFT_create()</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">siftF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.xfeatures2d.SIFT_create(edgeThreshold&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">80</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;siftF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;sorted(kp,&nbsp;key<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>lambda&nbsp;f:&nbsp;f.response,&nbsp;reverse<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#E28964">True</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##filtered_kp&nbsp;=&nbsp;list(filter(lambda&nbsp;f:&nbsp;f.response&gt;0.01,&nbsp;kp))</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;filteringByDistance(kp,&nbsp;<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(filtered_kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(filtered_kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp,&nbsp;des&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;siftF.compute(gray,&nbsp;filtered_kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.shape='</span>,&nbsp;des.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.dtype='</span>,&nbsp;des.dtype)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des='</span>,&nbsp;des)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(src,&nbsp;filtered_kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;f&nbsp;<span style="color:#E28964">in</span>&nbsp;filtered_kp:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.size</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;rect&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;((x,&nbsp;y),&nbsp;(size,&nbsp;size),&nbsp;f.angle)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.boxPoints(rect).astype(np.int32)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.polylines(dst,&nbsp;[box],&nbsp;<span style="color:#E28964">True</span>,&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(dst,&nbsp;(round(x),&nbsp;round(y)),&nbsp;round(f.size<span style="color:#4B9CE9"></span><span style="color:#E28964">/</span><span style="color:#3387CC">2</span>),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="ninth" class="resume">
    <div class="container">
      <div class="section-title">
        <h2>09</h2>
        <p>SURF 특징 검출 및 디스크립터 계산</p>
      </div>
      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>SURF 특징 검출 및 디스크립터 계산</h4>
            <h5>Ex 9.12</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;distance(f1,&nbsp;f2):&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x1,&nbsp;y1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f1.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x2,&nbsp;y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f2.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;np.sqrt((x2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;x1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span><span style="color:#E28964">+</span>&nbsp;(y2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span>&nbsp;y1)<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;filteringByDistance(kp,&nbsp;distE<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">5</span>):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">len</span>(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.arange(<span style="color:#3387CC">1</span>,size<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span><span style="color:#3387CC">1</span>).astype(np.bool8)&nbsp;<span style="color:#BFBDBD">#&nbsp;all&nbsp;True&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;i,&nbsp;f1&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">not</span>&nbsp;mask[i]:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">else</span>:&nbsp;<span style="color:#BFBDBD">#&nbsp;True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;j,&nbsp;f2&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(kp):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;i&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;j:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;distance(f1,&nbsp;f2)<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>distE:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[j]&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">False</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;np_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.array(kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">return</span>&nbsp;list(np_kp[mask])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/cornerTest.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">gray<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#gray&nbsp;=&nbsp;cv2.GaussianBlur(gray,&nbsp;(5,&nbsp;5),&nbsp;0.0)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">surF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.xfeatures2d.SURF_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##surF&nbsp;=&nbsp;cv2.xfeatures2d.SURF_create(upright=True)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;surF.detect(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;sorted(kp,&nbsp;key<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>lambda&nbsp;f:&nbsp;f.response,&nbsp;reverse<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#E28964">True</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##filtered_kp&nbsp;=&nbsp;list(filter(lambda&nbsp;f:&nbsp;f.response&gt;0.01,&nbsp;kp))</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">filtered_kp&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;filteringByDistance(kp,&nbsp;<span style="color:#3387CC">10</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(filtered_kp)='</span>,&nbsp;<span style="color:#E28964">len</span>(filtered_kp))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp,&nbsp;des&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;surF.compute(gray,&nbsp;filtered_kp)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.shape='</span>,&nbsp;des.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des.dtype='</span>,&nbsp;des.dtype)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##print('des=',&nbsp;des)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawKeypoints(gray,&nbsp;filtered_kp,&nbsp;<span style="color:#E28964">None</span>,&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>))&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;f&nbsp;<span style="color:#E28964">in</span>&nbsp;filtered_kp:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;f.size</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;rect&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;((x,&nbsp;y),&nbsp;(size,&nbsp;size),&nbsp;f.angle)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.boxPoints(rect).astype(np.int32)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.polylines(dst,&nbsp;[box],&nbsp;<span style="color:#E28964">True</span>,&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(dst,&nbsp;(round(x),&nbsp;round(y)),&nbsp;round(f.size<span style="color:#4B9CE9"></span><span style="color:#E28964">/</span><span style="color:#3387CC">2</span>),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="tenth" class="resume">
    <div class="container">
      <div class="section-title">
        <h2>10</h2>
        <p>디스크립터를 이용한 특징 매칭</p>
      </div>
      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>이진 디스크립터(ORB, BRISK)를 사용한 BFMatcher/FlannBasedMatcher DescriptorMatcher.match(des1, des2)</h4>
            <h5>Ex 9.13</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div><div style="line-height:130%">61</div><div style="line-height:130%">62</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/book1.jpg'</span>)&nbsp;<span style="color:#BFBDBD">#&nbsp;'cup1.jpg'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/book2.jpg'</span>)&nbsp;<span style="color:#BFBDBD">#&nbsp;'cup2.jpg'</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">img1<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src1,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">img2<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src2,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2-1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">orbF&nbsp;&nbsp;&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.ORB_create(nfeatures<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">1000</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp1,&nbsp;des1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;orbF.detectAndCompute(img1,&nbsp;<span style="color:#E28964">None</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp2,&nbsp;des2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;orbF.detectAndCompute(img2,&nbsp;<span style="color:#E28964">None</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2-2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##briskF&nbsp;=&nbsp;cv2.BRISK_create()</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp1,&nbsp;des1&nbsp;=&nbsp;briskF.detectAndCompute(img1,&nbsp;None)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp2,&nbsp;des2&nbsp;=&nbsp;briskF.detectAndCompute(img2,&nbsp;None)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3-1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">bf&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.BFMatcher_create(cv2.NORM_HAMMING,&nbsp;crossCheck<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#E28964">True</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;bf.match(des1,des2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3-2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##flan&nbsp;=&nbsp;cv2.FlannBasedMatcher_create()&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##matches&nbsp;=&nbsp;flan.match(np.float32(des1),np.float32(des2))</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;sorted(matches,&nbsp;key&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;lambda&nbsp;m:&nbsp;m.distance)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(matches)='</span>,&nbsp;<span style="color:#E28964">len</span>(matches))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;i,&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(matches[:<span style="color:#3387CC">3</span>]):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">print</span>(<span style="color:#82C961">'matches[{}]=(queryIdx:{},&nbsp;trainIdx:{},&nbsp;distance:{})'</span>.<span style="color:#E28964">format</span>(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i,&nbsp;m.&nbsp;queryIdx,&nbsp;m.trainIdx,&nbsp;m.distance))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">minDist&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;matches[<span style="color:#3387CC">0</span>].distance</div><div style="padding:0 6px; white-space:pre; line-height:130%">good_matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;list(filter(lambda&nbsp;m:&nbsp;m.distance<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span><span style="color:#3387CC">4</span><span style="color:#E28964">*</span>minDist,&nbsp;matches))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(good_matches)='</span>,&nbsp;<span style="color:#E28964">len</span>(good_matches))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">len</span>(good_matches)&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>&nbsp;<span style="color:#3387CC">5</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">print</span>(<span style="color:#82C961">'sorry,&nbsp;too&nbsp;small&nbsp;good&nbsp;matches'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;exit()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawMatches(img1,kp1,img2,kp2,good_matches,&nbsp;<span style="color:#E28964">None</span>,&nbsp;flags<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#5</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src1_pts&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.float32([&nbsp;kp1[m.queryIdx].pt&nbsp;<span style="color:#E28964">for</span>&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;good_matches])</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2_pts&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.float32([&nbsp;kp2[m.trainIdx].pt&nbsp;<span style="color:#E28964">for</span>&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;good_matches])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">H,&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.findHomography(src1_pts,&nbsp;src2_pts,&nbsp;cv2.RANSAC,&nbsp;<span style="color:#3387CC">3.</span><span style="color:#3387CC">0</span>)<span style="color:#BFBDBD">#cv2.LMEDS</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">mask_matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;mask.ravel().tolist()&nbsp;<span style="color:#BFBDBD">#&nbsp;list(mask.flatten())</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#6</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">h,w&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;img1.shape</div><div style="padding:0 6px; white-space:pre; line-height:130%">pts&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.float32([&nbsp;[<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>],[<span style="color:#3387CC">0</span>,h<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>],[w<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,h<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>],[w<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,<span style="color:#3387CC">0</span>]&nbsp;]).reshape(<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,<span style="color:#3387CC">1</span>,<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">pts2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.perspectiveTransform(pts,&nbsp;H)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.polylines(src2,[np.int32(pts2)],<span style="color:#E28964">True</span>,(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,&nbsp;<span style="color:#3387CC">0</span>),<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">draw_params<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>dict(matchColor&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;singlePointColor&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">None</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matchesMask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;mask_matches,&nbsp;&nbsp;flags&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">2</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawMatches(src1,kp1,src2,kp2,&nbsp;good_matches,&nbsp;<span style="color:#E28964">None</span>,<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span>draw_params)&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
          <div class="resume-item">
            <h4>SIFT, SURF 특징을 사용한 BFMatcher/FlannBasedMatcher DescriptorMatcher.knnMatch(des1, des2, k = 2)</h4>
            <h5>Ex 9.14</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div><div style="line-height:130%">61</div><div style="line-height:130%">62</div><div style="line-height:130%">63</div><div style="line-height:130%">64</div><div style="line-height:130%">65</div><div style="line-height:130%">66</div><div style="line-height:130%">67</div><div style="line-height:130%">68</div><div style="line-height:130%">69</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/book1.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/book2.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">img1<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src1,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">img2<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src2,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2-1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">siftF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.xfeatures2d.SIFT_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp1,&nbsp;des1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;siftF.detectAndCompute(img1,&nbsp;<span style="color:#E28964">None</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp2,&nbsp;des2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;siftF.detectAndCompute(img2,&nbsp;<span style="color:#E28964">None</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2-2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##surF&nbsp;=&nbsp;cv2.xfeatures2d.SURF_create()</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp1,&nbsp;des1&nbsp;=&nbsp;surF.detectAndCompute(img1,&nbsp;None)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##kp2,&nbsp;des2&nbsp;=&nbsp;surF.detectAndCompute(img2,&nbsp;None)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3-1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">bf&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.BFMatcher()</div><div style="padding:0 6px; white-space:pre; line-height:130%">matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;bf.knnMatch(des1,des2,&nbsp;k<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3-2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##flan&nbsp;=&nbsp;cv2.FlannBasedMatcher_create()&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##matches&nbsp;=&nbsp;flan.knnMatch(des1,des2,&nbsp;k=2)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3-3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(matches)='</span>,&nbsp;<span style="color:#E28964">len</span>(matches))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;i,&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(matches[:<span style="color:#3387CC">3</span>]):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;j,&nbsp;n&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(m):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">print</span>(<span style="color:#82C961">'matches[{}][{}]=(queryIdx:{},&nbsp;trainIdx:{},&nbsp;distance:{})'</span>.<span style="color:#E28964">format</span>(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i,&nbsp;j,&nbsp;n.&nbsp;queryIdx,&nbsp;n.trainIdx,&nbsp;n.distance))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawMatchesKnn(img1,kp1,img2,kp2,matches,<span style="color:#E28964">None</span>,flags<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##cv2.imshow('dst',&nbsp;&nbsp;dst)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">nndrRatio&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0.</span><span style="color:#3387CC">45</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##good_matches&nbsp;=&nbsp;[]</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##for&nbsp;f1,&nbsp;f2&nbsp;in&nbsp;matches:&nbsp;#&nbsp;k&nbsp;=&nbsp;2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;f1.distance&nbsp;&lt;&nbsp;nndrRatio*f2.distance:</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;good_matches.append(f1)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">good_matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;[f1&nbsp;<span style="color:#E28964">for</span>&nbsp;f1,&nbsp;f2&nbsp;<span style="color:#E28964">in</span>&nbsp;matches</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;f1.distance&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>&nbsp;nndrRatio<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span>f2.distance]</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(good_matches)='</span>,&nbsp;<span style="color:#E28964">len</span>(good_matches))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">len</span>(good_matches)&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">&lt;</span>&nbsp;<span style="color:#3387CC">5</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">print</span>(<span style="color:#82C961">'sorry,&nbsp;too&nbsp;small&nbsp;good&nbsp;matches'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;exit()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#5</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src1_pts&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.float32([&nbsp;kp1[m.queryIdx].pt&nbsp;<span style="color:#E28964">for</span>&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;good_matches])</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2_pts&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.float32([&nbsp;kp2[m.trainIdx].pt&nbsp;<span style="color:#E28964">for</span>&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;good_matches])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">H,&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.findHomography(src1_pts,&nbsp;src2_pts,&nbsp;cv2.RANSAC,&nbsp;<span style="color:#3387CC">2.</span><span style="color:#3387CC">0</span>)<span style="color:#BFBDBD">#cv2.LMEDS</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">mask_matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;mask.ravel().tolist()&nbsp;<span style="color:#BFBDBD">#&nbsp;list(mask.flatten())</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#6</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">h,w&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;img1.shape</div><div style="padding:0 6px; white-space:pre; line-height:130%">pts&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.float32([&nbsp;[<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>],[<span style="color:#3387CC">0</span>,h<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>],[w<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,h<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>],[w<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,<span style="color:#3387CC">0</span>]&nbsp;]).reshape(<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,<span style="color:#3387CC">1</span>,<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">pts2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.perspectiveTransform(pts,&nbsp;H)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.polylines(src2,[np.int32(pts2)],<span style="color:#E28964">True</span>,(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,&nbsp;<span style="color:#3387CC">0</span>),<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">draw_params&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;dict(matchColor&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;singlePointColor&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">None</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matchesMask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;mask_matches,&nbsp;flags&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">2</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawMatches(src1,kp1,src2,kp2,&nbsp;good_matches,&nbsp;<span style="color:#E28964">None</span>,<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span>draw_params)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>SURF 특징을 사용한 BFMatcher/FlannBasedMatcher DescriptorMatcher.radiusMatch(des1, des2, maxdistance = 0.3)</h4>
            <h5>Ex 9.15</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/book1.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/book2.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">img1<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src1,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">img2<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src2,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">surF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.xfeatures2d.SURF_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp1,&nbsp;des1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;surF.detectAndCompute(img1,&nbsp;<span style="color:#E28964">None</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp2,&nbsp;des2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;surF.detectAndCompute(img2,&nbsp;<span style="color:#E28964">None</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp1)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp1))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp2)='</span>,&nbsp;<span style="color:#E28964">len</span>(kp2))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##bf&nbsp;=&nbsp;cv2.BFMatcher()</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##matches&nbsp;=&nbsp;bf.radiusMatch(des1,des2,&nbsp;maxDistance=0.3)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">flan&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.FlannBasedMatcher_create()&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;flan.radiusMatch(des1,des2,&nbsp;maxDistance<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">3</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">def</span>&nbsp;draw_key2image(kp,&nbsp;img):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;kp.pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;kp.size</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;rect&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;((x,&nbsp;y),&nbsp;(size,&nbsp;size),&nbsp;kp.angle)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.boxPoints(rect).astype(np.int32)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.polylines(img,&nbsp;[box],&nbsp;<span style="color:#E28964">True</span>,&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.circle(img,&nbsp;(round(x),&nbsp;round(y)),&nbsp;round(size<span style="color:#4B9CE9"></span><span style="color:#E28964">/</span><span style="color:#3387CC">2</span>),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),&nbsp;<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;img&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;i,&nbsp;radius_match&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(matches):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">len</span>(radius_match)&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">!</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">print</span>(<span style="color:#82C961">'i='</span>,&nbsp;i)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">print</span>(<span style="color:#82C961">'len(matches[{}])={}'</span>.<span style="color:#E28964">format</span>(i,<span style="color:#E28964">len</span>(matches[i])))<span style="color:#BFBDBD">#len(radius_match)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src1c&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;src1.copy()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;draw_key2image(kp1[radius_match[<span style="color:#3387CC">0</span>].queryIdx],&nbsp;src1c)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src2c&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;src2.copy()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;radius_match:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;draw_key2image(kp2[m.trainIdx],&nbsp;src2c)&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawMatches(src1c,kp1,src2c,kp2,radius_match,&nbsp;<span style="color:#E28964">None</span>,flags<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
          <div class="resume-item">
            <h4>SURF 특징을 사용한 BFMatcher/FlannBasedMatcher DescriptorMatcher.radiusMatch(des1, des2, maxdistance = 0.3)</h4>
            <h5>Ex 9.16</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div><div style="line-height:130%">50</div><div style="line-height:130%">51</div><div style="line-height:130%">52</div><div style="line-height:130%">53</div><div style="line-height:130%">54</div><div style="line-height:130%">55</div><div style="line-height:130%">56</div><div style="line-height:130%">57</div><div style="line-height:130%">58</div><div style="line-height:130%">59</div><div style="line-height:130%">60</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;numpy&nbsp;<span style="color:#E28964">as</span>&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/book1.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/book2.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">img1<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src1,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">img2<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src2,cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">surF&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.xfeatures2d.SURF_create()</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp1,&nbsp;des1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;surF.detectAndCompute(img1,&nbsp;<span style="color:#E28964">None</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">kp2,&nbsp;des2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;surF.detectAndCompute(img2,&nbsp;<span style="color:#E28964">None</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(kp1)={},&nbsp;len(kp2)={}'</span>.<span style="color:#E28964">format</span>(<span style="color:#E28964">len</span>(kp1),&nbsp;<span style="color:#E28964">len</span>(kp2)))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">distT&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0.</span><span style="color:#3387CC">1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##bf&nbsp;=&nbsp;cv2.BFMatcher()</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##matches&nbsp;=&nbsp;bf.radiusMatch(des1,des2,&nbsp;&nbsp;maxDistance=distT)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">flan&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.FlannBasedMatcher_create()&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;flan.radiusMatch(des1,des2,&nbsp;&nbsp;maxDistance<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>distT)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(matches)='</span>,&nbsp;<span style="color:#E28964">len</span>(matches))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">good_matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;[]</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;i,&nbsp;radius_match&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(matches):</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4-1&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;len(radius_match)&nbsp;!=&nbsp;0:</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort_match&nbsp;=&nbsp;sorted(radius_match,&nbsp;key&nbsp;=&nbsp;lambda&nbsp;m:&nbsp;m.distance)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;good_matches.append(sort_match[0])</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4-2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">len</span>(radius_match)&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">!</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">for</span>&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;radius_match:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;good_matches.append(m)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(good_matches)='</span>,&nbsp;<span style="color:#E28964">len</span>(good_matches))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##dst2&nbsp;=&nbsp;cv2.drawMatches(img1,kp1,img2,kp2,good_matches,&nbsp;None,&nbsp;flags=2)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">####cv2.imshow('dst2',&nbsp;&nbsp;dst2)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#5</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src1_pts&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.float32([&nbsp;kp1[m.queryIdx].pt&nbsp;<span style="color:#E28964">for</span>&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;good_matches])</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2_pts&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.float32([&nbsp;kp2[m.trainIdx].pt&nbsp;<span style="color:#E28964">for</span>&nbsp;m&nbsp;<span style="color:#E28964">in</span>&nbsp;good_matches])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">H,&nbsp;mask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.findHomography(src1_pts,&nbsp;src2_pts,&nbsp;cv2.RANSAC,&nbsp;<span style="color:#3387CC">3.</span><span style="color:#3387CC">0</span>)<span style="color:#BFBDBD">#cv2.LMEDS</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">mask_matches&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;mask.ravel().tolist()&nbsp;<span style="color:#BFBDBD">#&nbsp;list(mask.flatten())</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#6</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">h,w&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;img1.shape</div><div style="padding:0 6px; white-space:pre; line-height:130%">pts&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;np.float32([&nbsp;[<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>],[<span style="color:#3387CC">0</span>,h<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>],[w<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,h<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>],[w<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,<span style="color:#3387CC">0</span>]&nbsp;]).reshape(<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>,<span style="color:#3387CC">1</span>,<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">pts2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.perspectiveTransform(pts,&nbsp;H)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.polylines(src2,[np.int32(pts2)],<span style="color:#E28964">True</span>,(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,&nbsp;<span style="color:#3387CC">0</span>),<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">draw_params<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>dict(matchColor&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),&nbsp;singlePointColor&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">None</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matchesMask&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;mask_matches,&nbsp;&nbsp;flags&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">2</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.drawMatches(src1,kp1,src2,kp2,&nbsp;good_matches,&nbsp;<span style="color:#E28964">None</span>,<span style="color:#4B9CE9"></span><span style="color:#E28964">*</span><span style="color:#4B9CE9"></span><span style="color:#E28964">*</span>draw_params)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst3'</span>,&nbsp;&nbsp;dst3)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="eleventh" class="resume">
    <div class="container">
      <div class="section-title">
        <h2>11</h2>
        <p>HOG 디스크립터</p>
      </div>
      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>HOG 디스크립터 계산</h4>
            <h5>Ex 9.17</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">from</span>&nbsp;&nbsp;&nbsp;matplotlib&nbsp;<span style="color:#E28964">import</span>&nbsp;pyplot&nbsp;<span style="color:#E28964">as</span>&nbsp;plt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/people1.png'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1:&nbsp;HoG&nbsp;in&nbsp;color&nbsp;image</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">hog1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.HOGDescriptor()</div><div style="padding:0 6px; white-space:pre; line-height:130%">des1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;hog1.compute(src)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des1.shape='</span>,&nbsp;des1.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des1='</span>,&nbsp;des1)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2:&nbsp;HoG&nbsp;in&nbsp;color&nbsp;image</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">winSize&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;(<span style="color:#3387CC">64</span>,<span style="color:#3387CC">128</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">blockSize&nbsp;&nbsp;&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;(<span style="color:#3387CC">16</span>,<span style="color:#3387CC">16</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">blockStride&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;(<span style="color:#3387CC">8</span>,<span style="color:#3387CC">8</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cellSize&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;(<span style="color:#3387CC">8</span>,<span style="color:#3387CC">8</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">nbins&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">9</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">derivAperture&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">winSigma&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">-</span><span style="color:#3387CC">1</span>&nbsp;&nbsp;<span style="color:#BFBDBD">#&nbsp;4.0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">histogramNormType&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">L2HysThreshold&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0.</span><span style="color:#3387CC">2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">gammaCorrection&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">True</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">nlevels&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">64</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">signedGradient&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#E28964">False</span>&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">hog2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.HOGDescriptor(winSize,blockSize,blockStride,cellSize,nbins,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;derivAperture,winSigma,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;histogramNormType,L2HysThreshold,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gammaCorrection,nlevels,&nbsp;signedGradient)</div><div style="padding:0 6px; white-space:pre; line-height:130%">des2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;hog2.compute(src)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des2.shape='</span>,&nbsp;des2.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des2='</span>,&nbsp;des2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3&nbsp;HoG&nbsp;in&nbsp;grayscale&nbsp;image</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">gray&nbsp;&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.cvtColor(src,&nbsp;cv2.COLOR_BGR2GRAY)</div><div style="padding:0 6px; white-space:pre; line-height:130%">des3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;hog1.compute(gray)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">##des3&nbsp;=&nbsp;hog2.compute(gray)</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des3.shape='</span>,&nbsp;des3.shape)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'des3='</span>,&nbsp;des3)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#4</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.title(<span style="color:#82C961">'HOGDescriptor'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.plot(des1[::<span style="color:#3387CC">36</span>],&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#82C961">'b'</span>,linewidth<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">4</span>,label<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#82C961">'des1'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.plot(des2[::<span style="color:#3387CC">36</span>],&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#82C961">'r'</span>,linewidth<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">2</span>,label<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#82C961">'des2'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.plot(des3[::<span style="color:#3387CC">36</span>],&nbsp;color<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#82C961">'g'</span>,linewidth<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#3387CC">1</span>,label<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#82C961">'des3'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.legend(loc<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#82C961">'best'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.show()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>HOG 특징을 이용한 사람 검출</h4>
            <h5>Ex 9.18</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">from</span>&nbsp;&nbsp;&nbsp;matplotlib&nbsp;<span style="color:#E28964">import</span>&nbsp;pyplot&nbsp;<span style="color:#E28964">as</span>&nbsp;plt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/people.png'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">hog&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.HOGDescriptor()</div><div style="padding:0 6px; white-space:pre; line-height:130%">hog.setSVMDetector(cv2.HOGDescriptor_getDefaultPeopleDetector())</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">loc1,&nbsp;weights1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;hog.detect(src)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(loc1)='</span>,<span style="color:#E28964">len</span>(loc1))</div><div style="padding:0 6px; white-space:pre; line-height:130%">dst1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;src.copy()</div><div style="padding:0 6px; white-space:pre; line-height:130%">w,&nbsp;h&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;hog.winSize</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;pt&nbsp;<span style="color:#E28964">in</span>&nbsp;loc1:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;pt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.rectangle(dst,&nbsp;(x,&nbsp;y),&nbsp;(x<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>w,&nbsp;y<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>h),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst1'</span>,&nbsp;&nbsp;dst1)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;src.copy()</div><div style="padding:0 6px; white-space:pre; line-height:130%">loc2,&nbsp;weights2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;hog.detectMultiScale(src)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(loc2)='</span>,<span style="color:#E28964">len</span>(loc2))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;rect&nbsp;<span style="color:#E28964">in</span>&nbsp;loc2:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y,&nbsp;w,&nbsp;h&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;rect</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.rectangle(dst2,&nbsp;(x,&nbsp;y),&nbsp;(x<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>w,&nbsp;y<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>h),&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>),<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#3</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">dst3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;src.copy()</div><div style="padding:0 6px; white-space:pre; line-height:130%">loc3,&nbsp;weights3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;hog.detectMultiScale(src,&nbsp;winStride<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">1</span>,<span style="color:#3387CC">1</span>),&nbsp;padding<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">8</span>,<span style="color:#3387CC">8</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(loc3)='</span>,<span style="color:#E28964">len</span>(loc3))</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'weights3='</span>,&nbsp;weights3)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">for</span>&nbsp;i,&nbsp;rect&nbsp;<span style="color:#E28964">in</span>&nbsp;enumerate(loc3):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x,&nbsp;y,&nbsp;w,&nbsp;h&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;rect</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;weights3[i]<span style="color:#4B9CE9"></span><span style="color:#E28964">&gt;</span><span style="color:#3387CC">0.</span><span style="color:#3387CC">5</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv2.rectangle(dst3,&nbsp;(x,&nbsp;y),&nbsp;(x<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>w,&nbsp;y<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>h),&nbsp;(<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">255</span>),<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">else</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cv2.rectangle(dst3,&nbsp;(x,&nbsp;y),&nbsp;(x<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>w,&nbsp;y<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span>h),&nbsp;(<span style="color:#3387CC">255</span>,<span style="color:#3387CC">0</span>,<span style="color:#3387CC">0</span>),<span style="color:#3387CC">2</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst3'</span>,&nbsp;&nbsp;dst3)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="twelfth" class="resume">
    <div class="container">
      <div class="section-title">
        <h2>12</h2>
        <p>영상 스티칭</p>
      </div>
      <div class="row">
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>영상 스티칭 1</h4>
            <h5>Ex 9.19</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">src1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/stitch_image1.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/stitch_image2.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/stitch_image3.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src4&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/stitch_image4.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">stitcher&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.createStitcher()</div><div style="padding:0 6px; white-space:pre; line-height:130%">status,&nbsp;dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;stitcher.stitch((src1,&nbsp;src2,&nbsp;src3,&nbsp;src4))</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imwrite(<span style="color:#82C961">'./data/stitch_out.jpg'</span>,&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst'</span>,&nbsp;&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
          <div class="resume-item">
            <h4>영상 스티칭 2</h4>
            <h5>Ex 9.20</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">src1&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/stitch_image1.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/stitch_image2.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/stitch_image3.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">src4&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.imread(<span style="color:#82C961">'./data/stitch_image4.jpg'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">stitcher&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.createStitcher()</div><div style="padding:0 6px; white-space:pre; line-height:130%">status,&nbsp;dst2&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;stitcher.stitch((src1,&nbsp;src2))</div><div style="padding:0 6px; white-space:pre; line-height:130%">status,&nbsp;dst3&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;stitcher.stitch((dst2,&nbsp;src3))</div><div style="padding:0 6px; white-space:pre; line-height:130%">status,&nbsp;dst4&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;stitcher.stitch((dst3,&nbsp;src4))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst2'</span>,&nbsp;&nbsp;dst2)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst3'</span>,&nbsp;&nbsp;dst3)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.imshow(<span style="color:#82C961">'dst4'</span>,&nbsp;&nbsp;dst4)</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="resume-item">
            <h4>비디오 스티칭 1</h4>
            <h5>Ex 9.21</h5>
            <div class="colorscripter-code" style="color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#000000;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #4f4f4f"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#aaa;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#FFFFFF;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">import</span>&nbsp;cv2</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">cap&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.VideoCapture(<span style="color:#82C961">'./data/stitch_videoInput.mp4'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">t&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0</span>&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">images&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;[]</div><div style="padding:0 6px; white-space:pre; line-height:130%">STEP&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">20</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">while</span>&nbsp;<span style="color:#E28964">True</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">+</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;retval,&nbsp;frame&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cap.read()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;<span style="color:#E28964">not</span>&nbsp;retval:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;img&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.resize(frame,&nbsp;dsize<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>(<span style="color:#3387CC">640</span>,&nbsp;<span style="color:#3387CC">480</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;img&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.rotate(img,&nbsp;cv2.ROTATE_90_CLOCKWISE)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;t%STEP&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">0</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;images.append(img)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.imshow(<span style="color:#82C961">'img'</span>,img)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.waitKey(<span style="color:#3387CC">25</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#E28964">if</span>&nbsp;key&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;<span style="color:#3387CC">27</span>:&nbsp;<span style="color:#BFBDBD">#&nbsp;Esc</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#BFBDBD">#2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">print</span>(<span style="color:#82C961">'len(images)='</span>,&nbsp;<span style="color:#E28964">len</span>(images))</div><div style="padding:0 6px; white-space:pre; line-height:130%">stitcher&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.createStitcher()</div><div style="padding:0 6px; white-space:pre; line-height:130%">status,&nbsp;dst&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;stitcher.stitch(images)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">if</span>&nbsp;status&nbsp;<span style="color:#4B9CE9"></span><span style="color:#E28964">=</span><span style="color:#4B9CE9"></span><span style="color:#E28964">=</span>&nbsp;cv2.STITCHER_OK:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.imwrite(<span style="color:#82C961">'./data/video_stitch_out.jpg'</span>,&nbsp;dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.imshow(<span style="color:#82C961">'dst'</span>,dst)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cv2.waitKey()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#E28964">if</span>&nbsp;cap.isOpened():</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;cap.release()</div><div style="padding:0 6px; white-space:pre; line-height:130%">cv2.destroyAllWindows()</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#4f4f4ftext-decoration:none"></a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#4f4f4f;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>